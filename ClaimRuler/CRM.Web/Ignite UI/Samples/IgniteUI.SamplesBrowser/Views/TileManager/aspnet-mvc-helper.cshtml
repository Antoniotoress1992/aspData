@using Infragistics.Web.Mvc
@using IgniteUI.SamplesBrowser.Models

@model IEnumerable<IgniteUI.SamplesBrowser.Models.Northwind.Category>
<!DOCTYPE html>

<html>
<head>
    <title></title>

    <!-- Ignite UI Required Combined CSS Files -->
    <link href="@Url.Content("~/igniteui/css/themes/infragistics/infragistics.theme.css")" rel="stylesheet" />
    <link href="@Url.Content("~/igniteui/css/structure/infragistics.css")" rel="stylesheet" />

    <script src="@Url.Content("~/js/modernizr.min.js")"></script>
    <script src="@Url.Content("~/js/jquery.min.js")"></script>
    <script src="@Url.Content("~/js/jquery-ui.min.js")"></script>

    <!-- Ignite UI Required Combined JavaScript Files -->
    <script src="@Url.Content("~/igniteui/js/infragistics.core.js")"></script>
    <script src="@Url.Content("~/igniteui/js/infragistics.lob.js")"></script>
</head>
<body>
    <style type="text/css">
        #dashboard {
            position: relative;
            width: 100%;
            height: 600px;
            border: none;
        }

        .ui-igtile-minimized .ui-igtile-inner-container h3 {
            position: absolute;
            width: 208px;
            height: 50px;
            margin-top: -25px;
            top: 50%;
            text-align:center;
            font-size: 20px;
        }

        @@media all and (max-width: 480) {
            .sample-page #sample {
                margin-left: 0;
                margin-right: 0;
            }
        }
    </style>
    @(Html.Infragistics()
        .TileManager(Model.AsQueryable())
        .ID("dashboard")
        .ColumnWidth(240)
        .MinimizedState("<h3>${CategoryName}</h3>")
        .MaximizedState("<h3><img src=\"${ImageUrl}\" title=\"${CategoryName}\" alt=\"error\" /> ${CategoryName}</h3><p>${Description}</p>" +
                                                "<ul class=\"tree\"><li>Products &ndash; ${ProductCount}<ul>{{each ${Products} }}<li>${Products.ProductName}</li>{{/each}}</ul></li></ul>")
        .DataBind()
        .Render()
    )
    <script type="text/javascript">
        $(document).on('igtilemanagertilemaximized', function (){
            $('.tree').igTree();
        });
    </script>
</body>
</html>
